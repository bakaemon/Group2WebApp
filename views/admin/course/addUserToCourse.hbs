<script src="/assets/js/autocomplete.js"></script>
<div class="login-form">
    <form action="" method="post">
        <h2>Course Inviting</h2>
        <hr>
        <div class="form-group">
            <p><small style="color: red;">{{message}}</small></p>
        </div>
        <div class="autocomplete">
            <div class="form-group">
                <input type="text" class="form-control" name="trainerusername" placeholder="Trainer's Username..." id="userauto-trainer"
                >
            </div>
        </div>
        <div class="autocomplete">
            <div class="form-group">
                <input type="text" class="form-control" name="traineeusername" placeholder="Trainee's Username..." id="userauto-trainee"
                 >
            </div>
        </div>
        <div class="form-group">
            <select name="course" class="form-control">
                {{#each course}}
                <option value="{{name}}">{{name}}</option>
                {{/each}}
            </select>
        </div>
        <div class="form-group">
            <button type="submit" class="btn btn-primary btn-lg">Add</button>
        </div>
    </form>
    <div class="hint-text">Go back to <a href="/admin/course/">course control panel</a></div>
</div>
<script>
    $.ajax({
        url: 'http://localhost:3000/api?id=user&refby=trainer',
        type: 'GET',
        dataType: "json",
        success: (users) => {
            autocomplete_v2(document.getElementById("userauto-trainer"), users["data"], "username")
        }
    });
        $.ajax({
        url: 'http://localhost:3000/api?id=user&refby=trainee',
        type: 'GET',
        dataType: "json",
        success: (users) => {
            autocomplete_v2(document.getElementById("userauto-trainee"), users["data"], "username")
        }
    });

</script>